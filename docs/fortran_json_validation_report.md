# Fortran JSON 工况计算结果与算法评估报告

*生成时间：2026-02-09*

---

## 1. 计算条件

- **工况来源**：`data/validation_cases_fortran.json`
- **反应器几何**：L = 8.0 m，D = 2.6 m（与 Fortran 文档可能不同）
- **网格**：50 cells
- **算法**：包含 Ts/Tg 分离计算的 Fortran 式颗粒瞬态传热

---

## 2.  Fortran JSON 工况计算结果

| 工况 | FeedRate (kg/h) | O2/Coal | Steam/Coal | T_out (°C) | CO (%) | H2 (%) | CO2 (%) | CH4 (%) | O2 (%) |
|------|-----------------|---------|------------|------------|--------|--------|---------|---------|--------|
| texaco i-1 | 76660 | 0.866 | 0.241 | **2136.5** | 58.6 | 34.7 | 5.0 | 0.00 | 0.00 |
| texaco i-2 | 81180 | 0.768 | 0.314 | **1539.4** | 55.6 | 39.6 | 4.0 | 0.00 | 0.00 |
| texaco i-5c | 56264 | 0.832 | 0.429 | **1543.2** | 56.6 | 37.1 | 5.3 | 0.00 | 0.00 |
| texaco i-10 | 129770 | 0.835 | 0.276 | **2111.9** | 59.3 | 32.7 | 6.8 | 0.00 | 0.04 |
| texaco exxon | 126110 | 0.790 | 0.500 | **830.6** | 40.2 | 46.8 | 9.7 | 0.01 | 0.00 |
| slurry western | 186780 | 0.910 | 0.520 | **2966.4** | 52.5 | 5.0 | 41.3 | 0.00 | 0.00 |
| slurry eastern | 133500 | 0.870 | 0.790 | **1415.1** | 51.3 | 24.4 | 23.4 | 0.00 | 0.00 |

---

## 3. 与 Fortran 参考输出对比（文献/历史记录）

历史文档中记录的 Fortran 代码运行结果（几何/设置可能不同）：

| 工况 | Fortran 参考 T_out (°C) | Python 当前 T_out (°C) | 差异 |
|------|--------------------------|------------------------|------|
| texaco i-1 | 1283.7 | 2136.5 | +852 °C |
| texaco i-2 | 956.4 | 1539.4 | +583 °C |
| texaco i-5c | 1079.0 | 1543.2 | +464 °C |
| texaco i-10 | 1149.0 | 2111.9 | +963 °C |
| texaco exxon | 940.6 | 830.6 | -110 °C |

**说明**：几何参数（L、D）、热损失、网格划分等可能不同，直接对比温度偏差有限。

---

## 4. 合理性检查

| 检查项 | 典型 Texaco 范围 | 结果 |
|--------|------------------|------|
| 出口温度 | 900–1400 °C | 0/7 在范围内（texaco 系列偏高，slurry western 偏高） |
| 干基 CO | 45–65 % | 6/7 在范围内 |
| 干基 H2 | 30–42 % | 4/7 在范围内 |
| 干基 CO2 | 2–15 % | 5/7 在范围内 |
| 出口 O2 | 接近 0 | 7/7 < 1% ✓ |

---

## 5. 算法修改效果评估

### 5.1 本次修改内容（Ts/Tg 分离）

- **颗粒温度 Ts**：瞬态传热 + 辐射，`Ts(t+Δt) = Tg - (Tg - Ts(t)) × exp(ct)`
- **异相反应**：使用 Ts_avg（颗粒平均温度）
- **均相反应**：使用 Tg（气相温度）
- **能量平衡**：H_out 固相用 Ts_out，气相用 Tg

### 5.2 物理一致性

- **因果关系**：`Tg → Ts(瞬态求解) → 反应速率 → 能量残差 → Tg 更新`，逻辑与 Fortran 一致
- **热力学**：异相反应和表面平衡用 Ts；均相反应用 Tg
- **收敛**：7/7 工况均求解成功

### 5.3 温度分布

- **texaco i-1** ~ **texaco i-10**：T_out 偏高（1500–2100 °C），可能原因：
  - 燃烧区放热与热损失不平衡
  - 几何与 Fortran 不一致
  - 需要进一步调节 CHAR_COMBUSTION_RATE_FACTOR、WGS 等
- **texaco exxon**：830 °C，偏低，与 Fortran 参考 940 °C 接近；Steam/Coal 偏高（0.5）
- **slurry western**：2966 °C 明显偏高，H2 仅 5%，CO2 达 41%，可能反应分布异常
- **slurry eastern**：1415 °C，相对合理

### 5.4 小结

| 指标 | 评价 |
|------|------|
| 物理一致性 | ✓ | Ts/Tg 分离符合 Fortran 思路 |
| 收敛性 | ✓ | 7/7 工况均成功 |
| 温度合理性 | ⚠️ | 部分 Texaco 偏高，slurry western 偏高 |
| 组分合理性 | ✓ | CO/H2/CO2 多数在典型范围 |

---

## 6. 后续建议

1. **几何对齐**：与 Fortran 输入文件确认 L、D、热损失等，保证可比性
2. **工况对比**：在相同几何下运行 Fortran 与 Python，做逐工况对比
3. **参数调优**：针对 texaco 偏高和 slurry western 异常，调整 C+O2 速率、WGS、热损失等
4. **Ts/Tg 差异**：在燃烧区入口附近检查 Ts 与 Tg 的轴向差异，确认瞬态传热是否生效
